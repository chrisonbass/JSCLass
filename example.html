<html>
  <head>
    <style>
    </style>
  </head>
  <body>
    <p>See console</p>
    <script src="JSClass.js"></script>
    <script>
      (function( $class ){
        var Person = $class.create({
          _constructor: function(name, age){
            this.name = name || "No Name";
            this.setAge(age);
            this.type = "Person";
          },

          /**
           * Standard Instance Method
           */
          setAge: function(p_age){
            if ( typeof p_age === "string" ){
              p_age = p_age.replace(/[^\d]/g,'')
              if ( p_age.match(/\d+/) ){
                p_age = parseInt(p_age, 10);
              } else {
                p_age = 0;
              }
            }
            this.age = p_age;
          }, 

          /**
           * Class Methods/Properties
           */
          __static__: {
            factory: function(name, age){
              return new Person(name, age);
            }
          },

          /**
           * Constants 
           */
          __constants__: {

          }
        } );

        var Student = $class.create(Person,{
          _constructor: function($super, name, age){
            $super(name, age);
            this.type = "Student";
          },
          __static__: {
            factory: function($super, name, age){
              console.log("Calling Parent State Method");
              var ret = $super(name, age);
              ret.type = "Factory Student";
              return ret;
            }
          }
        } );
        var steve = new Student("Chris", 23);

        console.log(steve);
        console.log(steve.name);
        console.log(steve.age);

      }(JSClass));
    </script>
  </body>
<html>
